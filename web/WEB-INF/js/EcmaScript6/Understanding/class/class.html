<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script>
<script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script>
<script type="module">
// http://www.es6fiddle.net/

    function PersonType(name) {
        this.name = name;
    }

    PersonType.prototype.sayName = function() {
        console.log(this.name);
    };

    let person = new PersonType("Nicholas");
    person.sayName();   // outputs "Nicholas"

    console.log(person instanceof PersonType);  // true
    console.log(person instanceof Object);      // true




    console.log("=== class keyword ====");

    class PersonClass {

        // equivalent of the PersonType constructor
        constructor(name) {
            this.name = name;
        }

        // equivalent of PersonType.prototype.sayName
        sayName() {
            console.log(this.name);
        }
    }

    let person2 = new PersonClass("Nicholas");
    person2.sayName();   // outputs "Nicholas"

    console.log(person2 instanceof PersonClass);     // true
    console.log(person2 instanceof Object);          // true

    console.log(typeof PersonClass);                    // "function"
    console.log(typeof PersonClass.prototype.sayName);  // "function"






    console.log("==== spread class keyword ====");

    // direct equivalent of PersonClass
    let PersonType3 = (function() {

        "use strict";  // 스트릭 모드 사용

        const PersonType2 = function(name) {

            // make sure the function was called with new(new안쓰면 에러 뱉음
            if (typeof new.target === "undefined") {
                throw new Error("Constructor must be called with new.");
            }

            this.name = name;
        }

        Object.defineProperty(PersonType2.prototype, "sayName", { //프로토타입에 해당 함수 추가
            value: function() {
                console.log(this.name);
            },
            enumerable: false,
            writable: true,
            configurable: true
        });

        return PersonType2;
    }());
    let person3 = new PersonType3("gogo");

    console.dir(person3);
</script>
</body>
</html>